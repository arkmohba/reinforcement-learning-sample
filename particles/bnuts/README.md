# 概要

粉体のシュミレーションプログラム（ブラジルナッツ効果のシミュレーション）

# 修正方針

* とりあえずOpenCV化する 済
* リファクタ　済
* 強化学習で使える環境にする
  * 必要なIFを調査　済
  * IFを実装　済
  * 


# クローン時の注意

pybind11をサブモジュールとして登録しているので初回は必ずupdateすること。

# 必要なライブラリ

* OpenCV
  * 画像化に使用する。
  * インストールはバイナリをダウンロードするなりで対応のこと。やり方は検索すれば出てくる。
  * cmakeでfind_packageを使うので事前にOpenCV_DIR環境変数を設定しておくこと。パスはOpenCVConfig.cmakeがあるディレクトリで、だいたいbuild配下または、build/install配下。
  * また、実行時ライブラリも使うのでpathを設定しておくこと。Windowsの設定例は `%OpenCV_DIR%\x64\vc14\bin` でdllファイルが配置されている。パスが通ってなければ実行時にエラーが出るのでわかるはず。
        * 試していないが、linuxだとsoファイル？があるところを **LD_LIBRARY_PATH** に指定すればよいかと。（ただ、OpenCVインストールした時点でおそらくデフォルトのディレクトリに配置されると思う。環境変数OpenCV_DIRも自動設定されるかも？）

# ビルド手順

```
$ mkdir build
$ cd build
$ cmake -A x64 .. 
$ cmake --build .
```

build/Debugにexeがあるはず。終了時はコンソールでCtrl+C。

また、windowsの場合はslnファイルがbuildディレクトリにあるため、ダブルクリック後、ソリューションエクスプローラーでbnutsを「スタートアッププロジェクトに設定」すればVisual Studio上で開発・デバッグできる。

# メモ

* windowsだとCRLFじゃないと正常にビルドできない。仕方ないのでCRLFで実装する。gitのクローン、プル時にはできればautocrlfを有効にしておくこと。
* パッと見の動きの自然さを優先したので、物理定数の値はでたらめ。width, heightのスケールは全くしていないので長さの単位が1ピクセルになっていることに注意すること。